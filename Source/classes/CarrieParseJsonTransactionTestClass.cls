/**
* This class contains unit tests for validating the behavior of Apex classes and triggers.
*
* Unit tests are class methods that verify whether a particular piece
* of code is working properly. Unit test methods take no arguments,
* commit no data to the database, and are flagged with the testMethod
* keyword in the method definition.
*
* All test methods in an organization are executed whenever Apex code is deployed
* to a production organization to confirm correctness, ensure code
* coverage, and prevent regressions. All Apex classes are
* required to have at least 75% code coverage in order to be deployed
* to a production organization. In addition, all triggers must have some code coverage.
*
* The @isTest class annotation indicates this class only contains test
* methods. Classes defined with the @isTest annotation do not count against
* the organization size limit for all Apex scripts.
*/
 
/***********************************************************************************
************************************************************************************

* @class: CarrieParseJsonTransactionTestClass
* @author: Capgemini Consulting India Pvt. Ltd.
* @version History : 1.0
* @date: 10/06/2012
* @description: Test Class for CarrieParseJsonTransaction , CarrieParseTransactionInfo.

************************************************************************************ 
***********************************************************************************/
@isTest(SeeAllData=true)
private class CarrieParseJsonTransactionTestClass {
    
    /**
    * @description: This method is used to test general methods of CarrieParseJsonTransaction
    */
    static testMethod void testJsonTransaction() {
        //Decimal ariaAccountNo = 3666081;
        Id customerId;
        User user = CarrieTestUtil.insertUser();
        Aria_Account__c customer  = CarrieTestUtil.insertAccount(); 
        customerId = customer.Id   ;
 
        Faktura__c inv = New Faktura__c(aria_account__c = customer.Id, Aria_Event_No__c ='1');
        insert inv;  
        Payment__c pym = New Payment__c(aria_account__c = customer.Id, Aria_Event_No__c ='1');
        insert pym;   
        Payment_Invoice__c pymi = New Payment_Invoice__c (aria_account__c=customer.Id,Faktura__c = inv.Id , Payment__c = pym.Id, transaction_no__c = '1234');
        insert pymi;        
       
        Map<string,string> mapInsertedPayment = new Map<string,string>();
        mapInsertedPayment.put('29285775','29285775');
        mapInsertedPayment.put('29910933','29910933');
        mapInsertedPayment.put('29284047','29284047');
        
        Map<string,string> invoiceMap = new Map<string,string>();
        invoiceMap.put('21191591','21191591');
        invoiceMap.put('20872645','20872645');
        
        Map<string,string> mapLongComments = new Map<string,string>();
        mapLongComments.put('29285775','jhgkjhdf sdukhfosidhf');
        mapLongComments.put('29910933','gdfhftrt yut utyuty ');
        mapLongComments.put('29284047','gdfhftrt yfffut utyuty ');
        
        Map<string,string> dummyInv = new Map<string,string>();
        mapInsertedPayment.put('4187281','4187281');        
       
        system.runAs(user){
            Test.startTest(); 
            CarrieParseJsonTransaction jsonTransaction = new CarrieParseJsonTransaction (customer);
           // String response='{"error_code":0,"error_msg":"OK","starting_record":0,"total_records":24,"transaction_information":[{"aria_event_no":29910933,"transaction_date":"2012-07-20 22:24:59","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324217,"total_amount_applied":80,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:24:59","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":80,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":80}]},{"aria_event_no":29910931,"transaction_date":"2012-07-20 22:24:58","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":320,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324215,"total_amount_applied":320,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:24:58","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":320,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":320}]},{"aria_event_no":29953631,"transaction_date":"2012-07-21 23:51:37","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":400,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338819,"total_amount_applied":400,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":300,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":300},{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":100,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":100}]},{"aria_event_no":30106367,"transaction_date":"2012-07-26 19:09:37","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":2800,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4387119,"total_amount_applied":2800,"related_amount_applied":null,"update_date":"2012-07-26 19:09:37","fully_applied_date":"2012-07-26 19:09:37","related_transaction":[{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":2800,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_amount":2800}]},{"aria_event_no":30100823,"transaction_date":"2012-07-26 18:56:07","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":4800,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4386985,"total_amount_applied":4800,"related_amount_applied":null,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":1700,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":1700},{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":3100,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_amount":3100}]},{"aria_event_no":30100825,"transaction_date":"2012-07-26 18:56:07","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":1200,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4386987,"total_amount_applied":1200,"related_amount_applied":null,"update_date":"2012-07-26 18:56:08","fully_applied_date":"2012-07-26 18:56:08","related_transaction":[{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":1200,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_amount":1200}]},{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":1200,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_transaction":[]},{"aria_event_no":30106369,"transaction_date":"2012-07-26 19:09:38","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":700,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4387121,"total_amount_applied":700,"related_amount_applied":700,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_transaction":[{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":700,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_amount":700}]},{"aria_event_no":29910935,"transaction_date":"2012-07-20 22:26:32","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324219,"total_amount_applied":80,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:26:32","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":80,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":80}]},{"aria_event_no":29910937,"transaction_date":"2012-07-20 22:26:32","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":20,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324221,"total_amount_applied":20,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:26:32","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":20,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":20}]},{"aria_event_no":29953633,"transaction_date":"2012-07-21 23:51:38","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":100,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338821,"total_amount_applied":100,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":100,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":100}]},{"aria_event_no":29962169,"transaction_date":"2012-07-22 17:34:05","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4341901,"total_amount_applied":80,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-22 17:34:05","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":80,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":80}]},{"aria_event_no":29962171,"transaction_date":"2012-07-22 17:34:06","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":20,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4341903,"total_amount_applied":20,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-22 17:34:06","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":20,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":20}]},{"aria_event_no":29913549,"transaction_date":"2012-07-21 01:07:17","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":160,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324303,"total_amount_applied":160,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 01:07:17","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":160,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":160}]},{"aria_event_no":29913551,"transaction_date":"2012-07-21 01:07:18","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":40,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324305,"total_amount_applied":40,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 01:07:18","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":40,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":40}]},{"aria_event_no":29285775,"transaction_date":"2012-07-07 17:54:14","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":4000,"currency_cd":"dkk","aria_statement_no":160605150,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187285,"total_amount_applied":4000,"related_amount_applied":null,"update_date":"2012-07-08 01:37:38","fully_applied_date":"2012-07-07 17:54:14","related_transaction":[]},{"aria_event_no":29283975,"transaction_date":"2012-07-07 17:16:09","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521472,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872639,"total_amount_applied":2000,"related_amount_applied":null,"update_date":"2012-07-07 17:21:06","fully_applied_date":"2012-07-07 17:21:06","related_transaction":[{"aria_event_no":29283987,"transaction_date":"2012-07-07 17:21:06","acct_no":3666081,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187251,"total_amount_applied":2000,"related_amount_applied":2000,"update_date":"2012-07-07 17:21:31","fully_applied_date":"2012-07-07 17:21:06","related_amount":2000}]},{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":20,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_transaction":[{"aria_event_no":29953631,"transaction_date":"2012-07-21 23:51:37","acct_no":3666081,"amount":400,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338819,"total_amount_applied":400,"related_amount_applied":100,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_amount":100},{"aria_event_no":29953633,"transaction_date":"2012-07-21 23:51:38","acct_no":3666081,"amount":100,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338821,"total_amount_applied":100,"related_amount_applied":100,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_amount":100},{"aria_event_no":29962169,"transaction_date":"2012-07-22 17:34:05","acct_no":3666081,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4341901,"total_amount_applied":80,"related_amount_applied":80,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-22 17:34:05","related_amount":80},{"aria_event_no":29962171,"transaction_date":"2012-07-22 17:34:06","acct_no":3666081,"amount":20,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4341903,"total_amount_applied":20,"related_amount_applied":20,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-22 17:34:06","related_amount":20},{"aria_event_no":30100823,"transaction_date":"2012-07-26 18:56:07","acct_no":3666081,"amount":4800,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4386985,"total_amount_applied":4800,"related_amount_applied":1700,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":1700},{"aria_event_no":29284313,"transaction_date":"2012-07-07 17:51:11","acct_no":3666081,"amount":1500,"currency_cd":"dkk","aria_statement_no":160521696,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187281,"total_amount_applied":1500,"related_amount_applied":1500,"update_date":"2012-07-07 17:52:53","fully_applied_date":"2012-07-07 17:51:11","related_amount":1500}]},{"aria_event_no":29285399,"transaction_date":"2012-07-07 17:52:53","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":4000,"currency_cd":"dkk","aria_statement_no":160521696,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20873857,"total_amount_applied":4000,"related_amount_applied":4000,"update_date":"2012-07-07 17:54:14","fully_applied_date":"2012-07-07 17:54:14","related_transaction":[{"aria_event_no":29285775,"transaction_date":"2012-07-07 17:54:14","acct_no":3666081,"amount":4000,"currency_cd":"dkk","aria_statement_no":160605150,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187285,"total_amount_applied":4000,"related_amount_applied":4000,"update_date":"2012-07-08 01:37:38","fully_applied_date":"2012-07-07 17:54:14","related_amount":4000}]},{"aria_event_no":29284039,"transaction_date":"2012-07-07 17:45:24","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187273,"total_amount_applied":2000,"related_amount_applied":null,"update_date":"2012-07-07 17:47:01","fully_applied_date":"2012-07-07 17:45:24","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":2000,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":2000}]},{"aria_event_no":29303211,"transaction_date":"2012-07-08 01:33:03","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":0,"currency_cd":"dkk","aria_statement_no":160605150,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20882287,"total_amount_applied":0,"related_amount_applied":null,"update_date":"2012-07-08 01:37:38","fully_applied_date":"2012-07-08 01:33:03","related_transaction":[]},{"aria_event_no":29283987,"transaction_date":"2012-07-07 17:21:06","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187251,"total_amount_applied":2000,"related_amount_applied":2000,"update_date":"2012-07-07 17:21:31","fully_applied_date":"2012-07-07 17:21:06","related_transaction":[{"aria_event_no":29283975,"transaction_date":"2012-07-07 17:16:09","acct_no":3666081,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521472,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872639,"total_amount_applied":2000,"related_amount_applied":2000,"update_date":"2012-07-07 17:21:06","fully_applied_date":"2012-07-07 17:21:06","related_amount":2000}]},{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":2000,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_transaction":[{"aria_event_no":29953631,"transaction_date":"2012-07-21 23:51:37","acct_no":3666081,"amount":400,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338819,"total_amount_applied":400,"related_amount_applied":300,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_amount":300},{"aria_event_no":29910931,"transaction_date":"2012-07-20 22:24:58","acct_no":3666081,"amount":320,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324215,"total_amount_applied":320,"related_amount_applied":320,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:24:58","related_amount":320},{"aria_event_no":29910933,"transaction_date":"2012-07-20 22:24:59","acct_no":3666081,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324217,"total_amount_applied":80,"related_amount_applied":80,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:24:59","related_amount":80},{"aria_event_no":29910935,"transaction_date":"2012-07-20 22:26:32","acct_no":3666081,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324219,"total_amount_applied":80,"related_amount_applied":80,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:26:32","related_amount":80},{"aria_event_no":29910937,"transaction_date":"2012-07-20 22:26:32","acct_no":3666081,"amount":20,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324221,"total_amount_applied":20,"related_amount_applied":20,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:26:32","related_amount":20},{"aria_event_no":29913549,"transaction_date":"2012-07-21 01:07:17","acct_no":3666081,"amount":160,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324303,"total_amount_applied":160,"related_amount_applied":160,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 01:07:17","related_amount":160},{"aria_event_no":29913551,"transaction_date":"2012-07-21 01:07:18","acct_no":3666081,"amount":40,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324305,"total_amount_applied":40,"related_amount_applied":40,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 01:07:18","related_amount":40},{"aria_event_no":29284039,"transaction_date":"2012-07-07 17:45:24","acct_no":3666081,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187273,"total_amount_applied":2000,"related_amount_applied":2000,"update_date":"2012-07-07 17:47:01","fully_applied_date":"2012-07-07 17:45:24","related_amount":2000}]},{"aria_event_no":29284313,"transaction_date":"2012-07-07 17:51:11","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":1500,"currency_cd":"dkk","aria_statement_no":160521696,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187281,"total_amount_applied":1500,"related_amount_applied":1500,"update_date":"2012-07-07 17:52:53","fully_applied_date":"2012-07-07 17:51:11","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":1500,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":1500}]}]}';
            String response = '{"error_code":0,"error_msg":"OK","starting_record":0,"total_records":24,"transaction_information":[{"aria_event_no":29910933,"transaction_date":"2012-07-20 22:24:59","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324217,"total_amount_applied":80,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:24:59","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":80,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":80}]},{"aria_event_no":29910931,"transaction_date":"2012-07-20 22:24:58","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":320,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324215,"total_amount_applied":320,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:24:58","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":320,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":320}]},{"aria_event_no":29953631,"transaction_date":"2012-07-21 23:51:37","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":400,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338819,"total_amount_applied":400,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":300,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":300},{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":100,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":100}]},{"aria_event_no":30106367,"transaction_date":"2012-07-26 19:09:37","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":2800,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4387119,"total_amount_applied":2800,"related_amount_applied":null,"update_date":"2012-07-26 19:09:37","fully_applied_date":"2012-07-26 19:09:37","related_transaction":[{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":2800,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_amount":2800}]},{"aria_event_no":30100823,"transaction_date":"2012-07-26 18:56:07","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":4800,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4386985,"total_amount_applied":4800,"related_amount_applied":null,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":1700,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":1700},{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":3100,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_amount":3100}]},{"aria_event_no":30100825,"transaction_date":"2012-07-26 18:56:07","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":1200,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4386987,"total_amount_applied":1200,"related_amount_applied":null,"update_date":"2012-07-26 18:56:08","fully_applied_date":"2012-07-26 18:56:08","related_transaction":[{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":1200,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_amount":1200}]},{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":1200,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_transaction":[]},{"aria_event_no":30106369,"transaction_date":"2012-07-26 19:09:38","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":700,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4387121,"total_amount_applied":700,"related_amount_applied":700,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_transaction":[{"aria_event_no":29969187,"transaction_date":"2012-07-22 19:02:07","acct_no":3666081,"amount":7800,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":21191591,"total_amount_applied":7800,"related_amount_applied":700,"update_date":"2012-07-26 19:09:38","fully_applied_date":"2012-07-26 19:09:38","related_amount":700}]},{"aria_event_no":29910935,"transaction_date":"2012-07-20 22:26:32","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324219,"total_amount_applied":80,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:26:32","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":80,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":80}]},{"aria_event_no":29910937,"transaction_date":"2012-07-20 22:26:32","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":20,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324221,"total_amount_applied":20,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:26:32","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":20,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":20}]},{"aria_event_no":29953633,"transaction_date":"2012-07-21 23:51:38","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":100,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338821,"total_amount_applied":100,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":100,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":100}]},{"aria_event_no":29962169,"transaction_date":"2012-07-22 17:34:05","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4341901,"total_amount_applied":80,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-22 17:34:05","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":80,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":80}]},{"aria_event_no":29962171,"transaction_date":"2012-07-22 17:34:06","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":20,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4341903,"total_amount_applied":20,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-22 17:34:06","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":20,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":20}]},{"aria_event_no":29913549,"transaction_date":"2012-07-21 01:07:17","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":160,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324303,"total_amount_applied":160,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 01:07:17","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":160,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":160}]},{"aria_event_no":29913551,"transaction_date":"2012-07-21 01:07:18","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":40,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324305,"total_amount_applied":40,"related_amount_applied":null,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 01:07:18","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":40,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":40}]},{"aria_event_no":29285775,"transaction_date":"2012-07-07 17:54:14","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":4000,"currency_cd":"dkk","aria_statement_no":160605150,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187285,"total_amount_applied":4000,"related_amount_applied":null,"update_date":"2012-07-08 01:37:38","fully_applied_date":"2012-07-07 17:54:14","related_transaction":[]},{"aria_event_no":29283975,"transaction_date":"2012-07-07 17:16:09","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521472,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872639,"total_amount_applied":2000,"related_amount_applied":null,"update_date":"2012-07-07 17:21:06","fully_applied_date":"2012-07-07 17:21:06","related_transaction":[{"aria_event_no":29283987,"transaction_date":"2012-07-07 17:21:06","acct_no":3666081,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187251,"total_amount_applied":2000,"related_amount_applied":2000,"update_date":"2012-07-07 17:21:31","fully_applied_date":"2012-07-07 17:21:06","related_amount":2000}]},{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":20,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_transaction":[{"aria_event_no":29953631,"transaction_date":"2012-07-21 23:51:37","acct_no":3666081,"amount":400,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338819,"total_amount_applied":400,"related_amount_applied":100,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_amount":100},{"aria_event_no":29953633,"transaction_date":"2012-07-21 23:51:38","acct_no":3666081,"amount":100,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338821,"total_amount_applied":100,"related_amount_applied":100,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_amount":100},{"aria_event_no":29962169,"transaction_date":"2012-07-22 17:34:05","acct_no":3666081,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4341901,"total_amount_applied":80,"related_amount_applied":80,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-22 17:34:05","related_amount":80},{"aria_event_no":29962171,"transaction_date":"2012-07-22 17:34:06","acct_no":3666081,"amount":20,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4341903,"total_amount_applied":20,"related_amount_applied":20,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-22 17:34:06","related_amount":20},{"aria_event_no":30100823,"transaction_date":"2012-07-26 18:56:07","acct_no":3666081,"amount":4800,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4386985,"total_amount_applied":4800,"related_amount_applied":1700,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":1700},{"aria_event_no":29284313,"transaction_date":"2012-07-07 17:51:11","acct_no":3666081,"amount":1500,"currency_cd":"dkk","aria_statement_no":160521696,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187281,"total_amount_applied":1500,"related_amount_applied":1500,"update_date":"2012-07-07 17:52:53","fully_applied_date":"2012-07-07 17:51:11","related_amount":1500}]},{"aria_event_no":29285399,"transaction_date":"2012-07-07 17:52:53","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":4000,"currency_cd":"dkk","aria_statement_no":160521696,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20873857,"total_amount_applied":4000,"related_amount_applied":4000,"update_date":"2012-07-07 17:54:14","fully_applied_date":"2012-07-07 17:54:14","related_transaction":[{"aria_event_no":29285775,"transaction_date":"2012-07-07 17:54:14","acct_no":3666081,"amount":4000,"currency_cd":"dkk","aria_statement_no":160605150,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187285,"total_amount_applied":4000,"related_amount_applied":4000,"update_date":"2012-07-08 01:37:38","fully_applied_date":"2012-07-07 17:54:14","related_amount":4000}]},{"aria_event_no":29284039,"transaction_date":"2012-07-07 17:45:24","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187273,"total_amount_applied":2000,"related_amount_applied":null,"update_date":"2012-07-07 17:47:01","fully_applied_date":"2012-07-07 17:45:24","related_transaction":[{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":2000,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_amount":2000}]},{"aria_event_no":29303211,"transaction_date":"2012-07-08 01:33:03","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":0,"currency_cd":"dkk","aria_statement_no":160605150,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20882287,"total_amount_applied":0,"related_amount_applied":null,"update_date":"2012-07-08 01:37:38","fully_applied_date":"2012-07-08 01:33:03","related_transaction":[]},{"aria_event_no":29283987,"transaction_date":"2012-07-07 17:21:06","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187251,"total_amount_applied":2000,"related_amount_applied":2000,"update_date":"2012-07-07 17:21:31","fully_applied_date":"2012-07-07 17:21:06","related_transaction":[{"aria_event_no":29283975,"transaction_date":"2012-07-07 17:16:09","acct_no":3666081,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521472,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872639,"total_amount_applied":2000,"related_amount_applied":2000,"update_date":"2012-07-07 17:21:06","fully_applied_date":"2012-07-07 17:21:06","related_amount":2000}]},{"aria_event_no":29283989,"transaction_date":"2012-07-07 17:21:31","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":3000,"currency_cd":"dkk","aria_statement_no":160521514,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872645,"total_amount_applied":3000,"related_amount_applied":2000,"update_date":"2012-07-21 23:51:38","fully_applied_date":"2012-07-21 23:51:38","related_transaction":[{"aria_event_no":29953631,"transaction_date":"2012-07-21 23:51:37","acct_no":3666081,"amount":400,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4338819,"total_amount_applied":400,"related_amount_applied":300,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 23:51:38","related_amount":300},{"aria_event_no":29910931,"transaction_date":"2012-07-20 22:24:58","acct_no":3666081,"amount":320,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324215,"total_amount_applied":320,"related_amount_applied":320,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:24:58","related_amount":320},{"aria_event_no":29910933,"transaction_date":"2012-07-20 22:24:59","acct_no":3666081,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324217,"total_amount_applied":80,"related_amount_applied":80,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:24:59","related_amount":80},{"aria_event_no":29910935,"transaction_date":"2012-07-20 22:26:32","acct_no":3666081,"amount":80,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324219,"total_amount_applied":80,"related_amount_applied":80,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:26:32","related_amount":80},{"aria_event_no":29910937,"transaction_date":"2012-07-20 22:26:32","acct_no":3666081,"amount":20,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324221,"total_amount_applied":20,"related_amount_applied":20,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-20 22:26:32","related_amount":20},{"aria_event_no":29913549,"transaction_date":"2012-07-21 01:07:17","acct_no":3666081,"amount":160,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324303,"total_amount_applied":160,"related_amount_applied":160,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 01:07:17","related_amount":160},{"aria_event_no":29913551,"transaction_date":"2012-07-21 01:07:18","acct_no":3666081,"amount":40,"currency_cd":"dkk","aria_statement_no":162850317,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":4324305,"total_amount_applied":40,"related_amount_applied":40,"update_date":"2012-07-22 19:02:07","fully_applied_date":"2012-07-21 01:07:18","related_amount":40},{"aria_event_no":29284039,"transaction_date":"2012-07-07 17:45:24","acct_no":3666081,"amount":2000,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187273,"total_amount_applied":2000,"related_amount_applied":2000,"update_date":"2012-07-07 17:47:01","fully_applied_date":"2012-07-07 17:45:24","related_amount":2000}]},{"aria_event_no":29284313,"transaction_date":"2012-07-07 17:51:11","acct_no":3666081,"user_id":"jonas","client_acct_id":null,"amount":1500,"currency_cd":"dkk","aria_statement_no":160521696,"transaction_type":"Check","transaction_type_no":2,"is_charge_type":0,"type_specific_id":4187281,"total_amount_applied":1500,"related_amount_applied":1500,"update_date":"2012-07-07 17:52:53","fully_applied_date":"2012-07-07 17:51:11","related_transaction":[{"aria_event_no":29284047,"transaction_date":"2012-07-07 17:47:01","acct_no":3666081,"amount":3500,"currency_cd":"dkk","aria_statement_no":160521654,"transaction_type":"Invoice","transaction_type_no":1,"is_charge_type":1,"type_specific_id":20872669,"total_amount_applied":3500,"related_amount_applied":1500,"update_date":"2012-07-26 18:56:07","fully_applied_date":"2012-07-26 18:56:07","related_amount":1500}]},{"aria_event_no":46581328,"transaction_date":"2013-04-15 12:47:50","acct_no":4399376,"user_id":"8j3wuugp","client_acct_id":null,"amount":40,"currency_cd":"dkk","aria_statement_no":-1,"transaction_type":"Refund of Electronic Payment","transaction_type_no":12,"is_charge_type":1,"type_specific_id":78218631,"total_amount_applied":40,"related_amount_applied":40,"update_date":"2013-04-15 12:51:57","void_date":null,"fully_applied_date":"2013-04-15 12:51:57","related_transaction":[{"aria_event_no":46581334,"transaction_date":"2013-04-15 12:51:57","acct_no":4399376,"amount":40,"currency_cd":"dkk","aria_statement_no":0,"transaction_type":"Voided Refund of Electronic Payment","transaction_type_no":-12,"is_charge_type":0,"type_specific_id":78218631,"total_amount_applied":40,"related_amount_applied":40,"update_date":"2013-04-15 12:51:57","void_date":null,"fully_applied_date":"2013-04-15 12:51:57","related_amount":40}]},{"aria_event_no":45341682,"transaction_date":"2013-03-06 14:21:10","acct_no":4399376,"user_id":"8j3wuugp","client_acct_id":null,"amount":33.39,"currency_cd":"dkk","aria_statement_no":246521736,"transaction_type":"Cash Credit","transaction_type_no":10,"is_charge_type":0,"type_specific_id":78068084,"total_amount_applied":33.39,"related_amount_applied":10,"update_date":"2013-03-06 14:21:25","void_date":null,"fully_applied_date":"2013-03-06 14:21:25","related_transaction":[{"aria_event_no":45329971,"transaction_date":"2013-03-05 14:06:09","acct_no":4399376,"amount":60,"currency_cd":"dkk","aria_statement_no":246521736,"transaction_type":"Voided Cash Credit","transaction_type_no":-10,"is_charge_type":1,"type_specific_id":78065529,"total_amount_applied":60,"related_amount_applied":10,"update_date":"2013-03-06 14:21:10","void_date":null,"fully_applied_date":"2013-03-06 14:21:10","related_amount":10}]},{"aria_event_no":45341604,"transaction_date":"2013-03-06 14:21:10","acct_no":4399376,"user_id":"8j3wuugp","client_acct_id":null,"amount":33.39,"currency_cd":"dkk","aria_statement_no":246521736,"transaction_type":"Cash Credit","transaction_type_no":3,"is_charge_type":0,"type_specific_id":78062384,"total_amount_applied":33.39,"related_amount_applied":10,"update_date":"2013-03-06 14:21:25","void_date":null,"fully_applied_date":"2013-03-06 14:21:25","related_transaction":[{"aria_event_no":45329904,"transaction_date":"2013-03-05 14:06:09","acct_no":4399376,"amount":60,"currency_cd":"dkk","aria_statement_no":246521736,"transaction_type":"Voided Cash Credit","transaction_type_no":-3,"is_charge_type":1,"type_specific_id":78098729,"total_amount_applied":60,"related_amount_applied":10,"update_date":"2013-03-06 14:21:10","void_date":null,"fully_applied_date":"2013-03-06 14:21:10","related_amount":10}]},{"aria_event_no":45671604,"transaction_date":"2013-03-06 14:21:10","acct_no":4399376,"user_id":"8j3wuugp","client_acct_id":null,"amount":33.39,"currency_cd":"dkk","aria_statement_no":246521736,"transaction_type":"Cash Credit","transaction_type_no":2,"is_charge_type":0,"type_specific_id":78002384,"total_amount_applied":33.39,"related_amount_applied":10,"update_date":"2013-03-06 14:21:25","void_date":null,"fully_applied_date":"2013-03-06 14:21:25","related_transaction":[{"aria_event_no":45239904,"transaction_date":"2013-03-05 14:06:09","acct_no":4399376,"amount":60,"currency_cd":"dkk","aria_statement_no":246001736,"transaction_type":"Voided Cash Credit","transaction_type_no":-2,"is_charge_type":1,"type_specific_id":78099729,"total_amount_applied":60,"related_amount_applied":10,"update_date":"2013-03-06 14:21:10","void_date":null,"fully_applied_date":"2013-03-06 14:21:10","related_amount":10}]}]}';
            jsonTransaction.getLatestEventNo();
            jsonTransaction.getTransactionDetails(mapInsertedPayment, invoiceMap, mapLongComments , response,dummyInv);
            Test.stopTest();
        }
    }
    
    /**
    * @description: This method is used to test general methods of CarrieParseTransactionInfo
    */
    static testMethod void testParseTransaction() {
        User user = CarrieTestUtil.insertUser();
        
        system.runAs(user){
            Test.startTest(); 
            Long aria_event_no=29910933;
            String transaction_date='2012-07-20 22:24:59';
            Long acct_no=3666081;
            String user_id='jonas';
            String client_acct_id=null;
            Double amount=80;
            string currency_cd='dkk';
            Long aria_statement_no=162850317;
            string transaction_type='Credit';
            Integer transaction_type_no=10;
            Integer is_charge_type=0;
            Long type_specific_id=4324217;
            Double total_amount_applied=80;
            Double related_amount_applied=null;
            String update_date='2012-07-20 22:24:59';
            String fully_applied_date='2012-07-20 22:24:59';
            String void_date =null;
            DateTime void_date1 = null;
            List<CarrieParseTransactionInfo.RelatedTransaction> related_transaction= new  List<CarrieParseTransactionInfo.RelatedTransaction>();
            
            CarrieParseTransactionInfo.RelatedTransaction relatedTransaction= new CarrieParseTransactionInfo.RelatedTransaction();
            aria_event_no=29283989;
            transaction_date='2012-07-20 22:24:59';
            acct_no=3666081;
            amount=80;
            currency_cd='dkk';
            aria_statement_no=160521514;
            transaction_type='Invoice';
            transaction_type_no=1;
            is_charge_type=1;
            type_specific_id=20872645;
            total_amount_applied=3000;
            related_amount_applied=3000;
            update_date='2012-07-20 22:24:59';
            fully_applied_date='2012-07-20 22:24:59';
            void_date=null;
            Double related_amount=20;
            relatedTransaction.aria_event_no=aria_event_no;
            relatedTransaction.transaction_date=transaction_date;
            relatedTransaction.acct_no=acct_no;
            relatedTransaction.amount=amount;
            relatedTransaction.currency_cd=currency_cd;
            relatedTransaction.aria_statement_no=aria_statement_no;
            relatedTransaction.transaction_type=transaction_type;
            relatedTransaction.transaction_type_no=transaction_type_no;
            relatedTransaction.is_charge_type=is_charge_type;
            relatedTransaction.type_specific_id=type_specific_id;
            relatedTransaction.total_amount_applied=total_amount_applied;
            relatedTransaction.related_amount_applied=related_amount_applied;
            relatedTransaction.update_date=update_date;
            relatedTransaction.fully_applied_date=fully_applied_date;
            relatedTransaction.related_amount=related_amount;
            related_transaction.add(relatedTransaction);
            
            CarrieParseTransactionInfo parseTransactionInfo = new CarrieParseTransactionInfo( aria_event_no,  transaction_date,  acct_no,  user_id,  client_acct_id,  amount,  currency_cd,  aria_statement_no,  transaction_type,  transaction_type_no, is_charge_type,  type_specific_id,  total_amount_applied,  related_amount_applied,  update_date, fully_applied_date,void_date,related_transaction) ;
            CarrieParseTransactionInfo.RelatedTransaction parseRelatedTransaction = new CarrieParseTransactionInfo.RelatedTransaction( aria_event_no, transaction_date, acct_no, amount, currency_cd, aria_statement_no, transaction_type, transaction_type_no, is_charge_type, type_specific_id, total_amount_applied, related_amount_applied, update_date, fully_applied_date,void_date, related_amount);
            Test.stopTest();
        }
    }
}